<!-- inventory.component.html -->
<div class="inventory-panel">
  <div class="inventory-items-container">
    <div
      *ngFor="let slot of inventory"
      class="inventory-item"
      (contextmenu)="openContextMenu($event, slot.item)"
      (mouseover)="onItemHover(slot.item, $event)"
      (mouseleave)="onItemLeave()"
    >
      <div class="item-image-container" [class.has-qty]="slot.quantity > 1">
        <img
          [src]="slot.item.imageUrl + '.png'"
          [alt]="slot.item.name"
          class="item-image"
        />
        <span class="item-quantity" *ngIf="slot.quantity > 1">
          {{ slot.quantity }}
        </span>
      </div>
    </div>
  </div>

  <!-- Context Menu -->
  <div
    *ngIf="contextMenuVisible"
    class="context-menu"
    [style.left.px]="contextMenuX"
    [style.top.px]="contextMenuY"
  >
    <div
      *ngFor="let action of selectedItem?.itemActions"
      class="context-menu-item"
      (click)="selectedItem && performAction(action.href)"
      (mouseenter)="highlightItem($event, action)"
      (mouseleave)="unhighlightItem($event)"
    >
      <span class="action-icon" [ngClass]="'action-' + action.key"></span>
      <span>{{ action.key }}</span>
    </div>
  </div>
</div>
